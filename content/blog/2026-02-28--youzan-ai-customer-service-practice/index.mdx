---
title: 从0到1搭建 AI 客服：有赞实践的工程化拆解
slug: youzan-ai-customer-service-practice
description: 基于有赞 AI 客服实践，整理从 MVP 到工程化落地的关键路径：架构演进、模型选型、上下文与知识工程、评测闭环。
date: 2026-02-28
lastUpdated: 2026-02-28
tags:
  - Reading
---

:::note[引用说明]
本文基于 有赞共享技术（有赞coder） 的文章整理与延展：[从0到1：有赞AI客服的实践路径与落地思考](https://mp.weixin.qq.com/s/1cTYhrydtLu9ff3qO2w6LQ)。
:::

大模型客服的价值并不在“能回答问题”本身，而在于它是否能在真实业务里稳定地替代人工、降低成本并避免错误回答。对研发团队而言，这是一条典型的工程化路径问题：先验证产品是否有价值，再逐步解决性能、稳定性、可控性和协作效率。

这篇文章把有赞从黑客马拉松到规模化运行的过程拆解出来。核心结论很明确：**早期追求速度，中期追求可控与成本，后期追求系统化与评测闭环**。

## 1. 架构演进：平台优先，但不要平台依赖

有赞初期选择了 Dify 作为智能体开发平台，原因很现实：集成快、迭代快，适合验证 PMF。这个决策在 0-1 阶段是正确的。

但在业务增长后，平台化方案暴露了典型问题：

- 节点执行和检索链路的性能瓶颈
- 版本治理、发布规范、运维能力不足
- 复杂流程的可定制能力受限

因此更稳妥的落地路径是三阶段：

1. 验证期：平台快速搭建 MVP，优先验证价值。
2. 成长期：平台 + 工程化混合架构，核心高并发链路自研。
3. 成熟期：核心能力全面工程化，平台仅保留低风险场景或退出主链路。

如果团队当前也在“要不要直接自研”的争论中，推荐先问一个问题：**你当前的瓶颈是“做不出来”，还是“跑不动/管不住”？** 前者选平台，后者转工程化。

## 2. 模型策略：少做 Prompt 微调，多做模型和任务匹配

实践里最容易踩坑的是把优化重心全部压在 Prompt 上。更高性价比的策略是：先把模型选对，再做提示词工程。

有赞经验可以提炼为三条：

- 用评测体系替代纯人工体感，减少“看起来变好”的误判。
- 模型切换要谨慎，后期切换成本会指数上升（评测、回归、Prompt 迁移）。
- 严格控制输出体积，响应速度和成本都会明显受益。

对于客服场景，建议把模型角色拆分：

- 主回复模型：负责最终答复质量
- 路由/分类模型：负责意图、情绪、改写等轻任务
- 评测模型：离线打分与回归验证

这种分层会显著提升成本可控性，也更利于问题定位。

## 3. Workflow 与 Agent：先确定性，再自主性

在高风险业务（如售后、物流、权益）中，Workflow 往往优于全自主 Agent。原因不是 Agent 不强，而是“错误成本”太高。

有赞采用了偏保守策略：通过意图识别与分发控制回答边界，遵循“宁可不答，不能答错”。这会带来承接率上限，但换来质量底线。

工程上可以用一个简化决策规则：

```text
如果场景要求强确定性（合规、售后、赔付）=> Workflow 优先
如果场景容忍探索与开放式交互（导购、推荐）=> 可引入 Agent
```

更实际的做法是让两者共存：主干流程 Workflow 化，局部子任务 Agent 化（如信息补全、策略建议）。

## 4. 上下文工程：不是“给更多”，而是“给更准”

大窗口不等于可无限喂信息。上下文质量取决于信噪比，而不是 token 数量。

有赞的做法可归纳为三步：

1. 信息获取：静态知识、动态接口、历史对话、多模态商品信息并行接入。
2. 筛选提纯：按入口场景和售前/售后路由，做语义相关性过滤与权重计算。
3. 结构化组装：按知识类型组织上下文并设置优先级，降低冲突与幻觉。

一个值得复用的原则是：**先路由再检索，先过滤再拼装**。这比“全量召回后让模型自己判断”更稳定。

## 5. 知识工程与评测闭环：从一次上线变成持续进化

有赞将知识源分为商品知识、历史对话知识、文档知识，并在不同阶段持续优化。

关键点包括：

- 商品知识：预学习 + 实时查询结合，覆盖静态与动态信息。
- 历史对话：提取高频 QA，去重分类后独立召回，补齐隐性知识。
- 文档切片：通过 `chunk_size/chunk_overlap` 平衡完整性与信息密度。

更核心的是评测闭环：

- 建立评测对象（场景、流程、知识）
- 建立数据集（上线前构造 + 上线后 Goodcase/Badcase 回流）
- 建立指标与评估器（人工 + 相似度/规则评估）
- 建立持续巡检与迭代机制

没有这套闭环，AI 客服很容易停留在“演示可用、线上波动”的阶段。

## 结语

这次实践最有价值的不是某个模型或平台选择，而是研发思路的转变：把 AI 客服当作长期演进系统，而不是一次性交付功能。

如果你正在推进类似项目，推荐优先落地三件事：

1. 明确“平台到工程化”的阶段边界与迁移标准。
2. 把上下文工程与知识工程拆成独立模块治理。
3. 尽早建立可回归的评测与反馈闭环。

这样才能在承接率、准确率、成本和可控性之间，持续找到可运营的平衡点。
